---

interface Stat {
  name: string;
  base: number;
}

interface Props {
  id: number;
  name: string;
  sprite: string;
  stats: Stat[];
  types: string[];
}

const { id, name, sprite, stats, types } = Astro.props as Props;
---

<div class={`pokemon-card type-bg-${types[0]}`}>
  <img class="pokemon-image" src={sprite} alt={name} />
  <div class="pokemon-header">
  <span class="pokemon-id">#{id.toString().padStart(3, '0')}</span>
  <h2 class="pokemon-name">{name}</h2>
</div>
    <div class="pokemon-types">
    {types.map((type) => (
      <span class={"type-badge " + type}>{type}</span>
    ))}
  </div>
  <ul class="stats-list">
    {stats.slice(0, 3).map(stat => (
      <li>
        <strong>{stat.name.replace('-', ' ').replace(/\b\w/g, l => l.toUpperCase())}:</strong> {stat.base}
        <div class="stat-bar">
        <div class="stat-bar-fill" style={`--fill: ${Math.min(stat.base, 100)}%`}
        data-stat={stat.name.toLowerCase()}></div>
    </div>
      </li>
    ))}
  </ul>
</div>

<style>
    .pokemon-name {
        font-size: 1.25rem;
        font-weight: bold;
        margin: 0.5rem 0;
        text-transform: capitalize;
    }

    .pokemon-ids {
        color: #888;
        font-weight: 500;
        font-size: 0.9rem;
    }
  .pokemon-card {
    max-width: 300px;;
    border: 1px solid #ccc;
    border-radius: 1rem;
    padding: 1rem;
    text-align: center;
    background: white;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
  border: 2px solid transparent;
  transition: transform 0.2s ease;
  }
  .pokemon-card:hover {
  transform: translateY(-4px);
}
    .pokemon-image {
    width: 50%;
    height: auto;
    object-fit: contain;
    display: block;
    margin: 0 auto;
  }
  .pokemon-types {
  display: flex;
  justify-content: center;
  gap: 0.5rem;
  margin-bottom: 0.5rem;
  flex-wrap: wrap;
}

.type-badge {
  padding: 0.5rem 1rem;
  border-radius: 999px;
  color: white;
  font-size: 0.75rem;
  text-transform: capitalize;
}

.stats-list li {
    list-style-type: none;
}
.stat-bar {
  background: #eee;
  border-radius: 0.25rem;
  height: 0.5rem;
  margin-top: 0.25rem;
  overflow: hidden;
}

.stat-bar-fill {
  height: 100%;
  width: var(--fill, 50%);
  transition: width 0.3s ease;
  background: gray; /* fallback */
}

.stat-bar-fill[data-stat="hp"] {
  background: #ff5959;
}

.stat-bar-fill[data-stat="attack"] {
  background: #f08030;
}

.stat-bar-fill[data-stat="defense"] {
  background: #f8d030;
}

.stat-bar-fill[data-stat="special-attack"] {
  background: #6890f0;
}

.stat-bar-fill[data-stat="special-defense"] {
  background: #78c850;
}

.stat-bar-fill[data-stat="speed"] {
  background: #f85888;
}


/* Basic type colors (you can expand this) */
.type-badge.fire { background-color: #f08030; }
.type-badge.water { background-color: #6890f0; }
.type-badge.grass { background-color: #78c850; }
.type-badge.electric { background-color: #f8d030; color: #000; }
.type-badge.ice { background-color: #98d8d8; color: #000; }
.type-badge.psychic { background-color: #f85888; }
.type-badge.rock { background-color: #b8a038; }
.type-badge.ground { background-color: #e0c068; color: #000; }
.type-badge.flying { background-color: #a890f0; }
.type-badge.bug { background-color: #a8b820; }
.type-badge.normal { background-color: #a8a878; }
.type-badge.fighting { background-color: #c03028; }
.type-badge.poison { background-color: #a040a0; }
.type-badge.ghost { background-color: #705898; }
.type-badge.dragon { background-color: #7038f8; }
.type-badge.dark { background-color: #705848; }
.type-badge.steel { background-color: #b8b8d0; color: #000; }
.type-badge.fairy { background-color: #ee99ac; color: #000; }

/* Card BG Colors */
.type-bg-fire { background-color: #fff0e0; }
.type-bg-water { background-color: #e0f0ff; }
.type-bg-grass { background-color: #eaffea; }
.type-bg-electric { background-color: #fffce0; }
.type-bg-ice { background-color: #e0f8f8; }
.type-bg-psychic { background-color: #ffe0f0; }
.type-bg-rock { background-color: #f5f0e0; }
.type-bg-ground { background-color: #f8f0dc; }
.type-bg-flying { background-color: #f0f8ff; }
.type-bg-bug { background-color: #f8fce0; }
.type-bg-normal { background-color: #f5f5f5; }
.type-bg-fighting { background-color: #fbeaea; }
.type-bg-poison { background-color: #f3e6f8; }
.type-bg-ghost { background-color: #eeeaff; }
.type-bg-dragon { background-color: #f0eaff; }
.type-bg-dark { background-color: #eaeaea; }
.type-bg-steel { background-color: #f2f6f7; }
.type-bg-fairy { background-color: #fff0f5; }


</style>
